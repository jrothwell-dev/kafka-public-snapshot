app {
  name = "kafka-demo"
  name = ${?APP_NAME}
  
  log-level = "INFO"
  log-level = ${?LOG_LEVEL}
}

database {
  host = "localhost"
  host = ${?POSTGRES_HOST}
  
  port = 5432
  port = ${?POSTGRES_PORT}
  
  name = "demodata"
  name = ${?POSTGRES_DB}
  
  user = "demo"
  user = ${?POSTGRES_USER}
  
  password = "demo123"
  password = ${?POSTGRES_PASSWORD}
  
  url = "jdbc:postgresql://"${database.host}":"${database.port}"/"${database.name}
  
  driver = "org.postgresql.Driver"
  
  connection-pool {
    max-pool-size = 10
    min-idle = 2
  }
}

kafka {
  bootstrap-servers = "localhost:9092"
  bootstrap-servers = ${?KAFKA_BOOTSTRAP_SERVERS}
  
  topics {
    user-events = "user-events"
    user-events = ${?KAFKA_TOPIC_USER_EVENTS}
    
    database-changes = "database-changes"
    database-changes = ${?KAFKA_TOPIC_DATABASE_CHANGES}
    
    compliance-issues = "compliance-issues"
  }
  
  producer {
    acks = "all"
    retries = 3
    batch-size = 16384
    linger-ms = 1
  }
  
  consumer {
    group-id = "kafka-demo-consumer"
    auto-offset-reset = "earliest"
    enable-auto-commit = false
  }
}

redis {
  host = "localhost"
  host = ${?REDIS_HOST}
  
  port = 6379
  port = ${?REDIS_PORT}
  
  database = 0
  
  cache {
    default-ttl = 3600  # 1 hour in seconds
    api-response-ttl = 300  # 5 minutes
  }
}

smtp {
  host = "smtp.murrumbidgee.nsw.gov.au"
  host = ${?SMTP_HOST}
  
  port = 25
  port = ${?SMTP_PORT}
  
  from = "notifications@murrumbidgee.nsw.gov.au"
  from = ${?SMTP_FROM}
  
  auth = false
  starttls = false
}

api-poller {
  # add safetyculture API config here later
  poll-interval = 60  # seconds
  timeout = 30  # seconds
}